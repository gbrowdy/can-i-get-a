<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Can I Get A</title>
        <link rel="icon" type="image/svg+xml" href="favicon.svg">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="0">
        <link href="style.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Montserrat&display=swap">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Arvo&display=swap">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Slab&display=swap">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap">
    </head>
    <body>
        <div class="container">
            <div class="title">
            	Can I Get A...
            </div>
            <div class="sub">
            	improv suggestions at the touch of a button
			</div>
			<div class="buttonRow">
				<button class="location">
					Location
					</button><br/>
				<button class="relationship">
					Relationship
					</button><br/>
				<button class="word">
					Word
					</button><br/>
			</div>

            <div class="suggestion">
            </div>

            <div class="credit">
				by <a href="http://gil.browdy.net" target="_blank">gil browdy</a> && <a href="http://www.vinnyfrancois.com" target="_blank">vinny francois</a>
            </div>

            <div class="language-switcher">
            	<a href="#" data-lang="en" class="en">en</a> •
            	<a href="#" data-lang="fr" class="fr">fr</a> •
            	<a href="#" data-lang="gr" class="gr">gr</a> •
            	<a href="#" data-lang="dk" class="dk">dk</a>
            </div>

		</div>

		<!-- Initialize suggestion storage FIRST -->
		<script>
		  window.suggestionsByLanguage = {};
		</script>

		<!-- Load translations -->
		<script src="translations.js" type="text/javascript"></script>

		<!-- Load i18n system -->
		<script src="i18n.js" type="text/javascript"></script>

		<!-- Load base logic -->
		<script src="base.js" type="text/javascript"></script>

		<!-- Load all language suggestion files (these will populate window.suggestionsByLanguage) -->
		<script src="script_en.js" type="text/javascript"></script>
		<script src="script_fr.js" type="text/javascript"></script>
		<script src="script_gr.js" type="text/javascript"></script>
		<script src="script_dk.js" type="text/javascript"></script>

		<!-- Initialize app -->
		<script>

		  // Initialize when DOM is ready
		  document.addEventListener('DOMContentLoaded', function () {
		    // Initialize i18n system
		    i18n.init();

		    // Initialize app with current language
		    initializeApp();

		    // Re-initialize when language changes
		    window.addEventListener('languageChanged', function(e) {
		      initializeApp();
		    });
		  });

		  function initializeApp() {
		    const lang = i18n.currentLanguage;
		    const fontSizes = i18n.t('fontSizes');

		    // Get suggestions for current language
		    const suggestions = window.suggestionsByLanguage[lang];

		    if (!suggestions) {
		      console.error('Suggestions not loaded for language:', lang);
		      console.log('Available languages:', Object.keys(window.suggestionsByLanguage));
		      // Fall back to English if available
		      if (window.suggestionsByLanguage.en && lang !== 'en') {
		        console.warn('Falling back to English suggestions');
		        initializeSuggestions(window.suggestionsByLanguage.en, fontSizes.small, fontSizes.large);
		      }
		      return;
		    }

		    // Initialize suggestions with language-specific font sizes
		    initializeSuggestions(suggestions, fontSizes.small, fontSizes.large);
		  }
		</script>

		<!-- Google Analytics (GA4) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-59058175-1"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		  gtag('config', 'UA-59058175-1');
		</script>

    </body>
</html>
